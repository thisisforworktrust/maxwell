<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>MAXWELL</title>
<style>
    html, body {
        background: black;
        color: white;
        font-family: monospace;
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
    }

    /* PARTY COLOR ANIMATION */
    @keyframes party {
        0%   { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
    }

    #ascii {
        white-space: pre;
        font-size: 14px;
        line-height: 14px;
        display: block;
        width: 100%;
        height: 100%;
        overflow: hidden;
        text-align: center;
        margin: 0;
        padding: 0;

        /* Apply color cycle */
        animation: party 2s linear infinite;
    }
</style>
</head>
<body>

<audio id="bgmusic" src="bg.mp3" autoplay loop></audio>

<pre id="ascii">Loading animation...</pre>

<script>
let frames = [];
let index = 0;
let interval;

fetch("maxwell_ascii.txt")
    .then(response => response.text())
    .then(text => {
        frames = text
            .split(/--- FRAME \d+ ---/g)
            .map(f => f.trim())
            .filter(f => f.length > 0);

        index = 0;
        play();
    });

function play() {
    interval = setInterval(() => {
        if (frames.length === 0) return;
        document.getElementById("ascii").textContent = frames[index];
        index = (index + 1) % frames.length;
    }, 1);
}

document.addEventListener("click", () => {
    const audio = document.getElementById("bgmusic");
    if (audio.paused) {
        audio.play();
    }
});
</script>

</body>
</html>
